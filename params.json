{"name":"Pbjs-doc","tagline":"","body":"![](http://i.imgur.com/oII0TCr.png =250x)\r\n\r\nA. Define your in page ad placements\r\nID: this will be used to identify \r\nSizes: so that \r\n\r\n    {\r\n                placement_id: 4795910, //REQUIRED- this is placement ID (or specifcy member id +  inventory code)\r\n                placement_sizes: [\"300x250\", \"728x90\"], //REQUIRED - size\r\n                placement_targeting: { //OPTIONAL - appnexus targeting params\r\n                    age: 30, //OPTIONAL - age\r\n                    gender: 'm' //OPTIONAL - gender\r\n                },\r\n                timeout: 1000 //(possibly) REQUIRED - timeout for this bid, if not specified, the callback might never happen if the /jpt call is invalid\r\n\r\n            }\r\n\r\n\r\nB. Define the mapping from your in page placements to pre-bid partners' ad units \r\n\r\n    {\r\n            \"placement_id\": 123,\r\n            \"bids\": [\r\n                {\r\n                    \"partner_name\": \"amazon\",\r\n                    \"timeout\": 1000,\r\n                    \"account\": \"account_name\",\r\n                    \"site\": \"abc.com\",\r\n                    \"zonesize\": \"300x250\",\r\n                    \"cpmKeyStr\": \"pb\",\r\n                    \"keyValueTargeting\": {\r\n                        \"key1\": \"value1\",\r\n                        \"key2\": \"value2\"\r\n                    }\r\n                },\r\n                {\r\n                    \"partner_name\": \"rubicon\",\r\n                    \"timeout\": 1000,\r\n                    \"account\": \"10496\",\r\n                    \"site\": \"44166\",\r\n                    \"zonesize\": \"191542-57\",\r\n                    \"cpmKeyStr\": \"pb\",\r\n                    \"keyValueTargeting\": {\r\n                        \"key1\": \"value1\",\r\n                        \"key2\": \"value2\"\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n\r\nC. Set prebid targeting right before your page sends the impressions to ad server\r\n\r\n    auctionDetails = prebid.getAuctionDetails();\r\n\r\nD. Set a timer to control how long your page would wait for prebid responses before sending the impressions to your ad server.\r\n\r\n    prebid.callback = function(){\r\n        // Triggers sending impressions to DFP\r\n    };\r\n\r\n    setTimeout(\r\n        function(){\r\n            if(!prebid.callbackExecuted){\r\n                 prebid.callback();\r\n            }\r\n        }, prebid.pageTimeout\r\n    );\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}